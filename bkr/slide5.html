<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus Verdeling</title>
    <style>
        :root {
            --bkr-dark-blue: #1e3a5f;
            --bkr-blue: #2d5a8c;
            --bkr-light-blue: #a8d5ff;
            --bkr-yellow: #fdb71a;
        }
           html {
            font-size: 62.5%;
            box-sizing: border-box;
        }


                body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            font-size: 1.6rem;
            padding: 20px 80px;
            /* bestaande properties blijven staan */
            position: relative;
            overflow: hidden;
        }

body::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('backgroundslide5.jpg');
    background-size: cover;
    background-position: center;
    z-index: -2;
}

body::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.65);
    z-index: -1;
}

        .title {
            font-size: 3.6rem;
            font-weight: 600;
            color: var(--bkr-dark-blue);
            
            text-align: left;
        }

        .chart-container {
            position: relative;
            width: 900px;
            height: 900px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }

        .chart-circle {
            position: relative;
            width: 500px;
            height: 500px;
            background: #f0f0f3;
            border: 2px solid var(--bkr-blue);
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #pieChart {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .center-circle {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: #ffffff;
            border: 2px solid var(--bkr-blue);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 10;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .label {
            position: absolute;
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--bkr-dark-blue);
            white-space: nowrap;
            background: #ffffff;
            padding: 8px 16px;
            border-radius: 12px;
            border: 2px solid var(--bkr-blue);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .label-legal { 
            top: 50%;
            right: 20px; 
            transform: translateY(-50%);
        }
        .label-technical { 
            top: 50%;
            left: -23px;
            transform: translateY(-50%);
        }
        
        .other-labels {
            position: absolute;
            top: 20px;
            left: 20%;
            transform: translateX(-50%);
            font-size: 1.4rem;
            color: var(--bkr-dark-blue);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            max-width: 700px;
            justify-content: left;
        }
        
        .other-labels div {
            background: #ffffff;
            padding: 6px 12px;
            border-radius: 8px;
            border: 2px solid var(--bkr-blue);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            white-space: nowrap;
            font-weight: 500;
        }
        
        .leader-line {
            position: absolute;
            stroke: var(--bkr-blue);
            stroke-width: 2;
            stroke-dasharray: 3,3;
            fill: none;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <h1 class="title">Focus verdeling</h1>
    
    <div class="chart-container">
        <svg class="leader-line" width="900" height="900" style="position: absolute; top: 0; left: 0; z-index: 5;">
            <line x1="675" y1="450" x2="780" y2="450" stroke="var(--bkr-blue)" stroke-width="2" stroke-dasharray="3,3" />
            <line x1="225" y1="450" x2="120" y2="450" stroke="var(--bkr-blue)" stroke-width="2" stroke-dasharray="3,3" />
            <line x1="420" y1="232" x2="180" y2="127" stroke="var(--bkr-blue)" stroke-width="2" stroke-dasharray="3,3" />
        </svg>
        
        <div class="chart-circle">
            <canvas id="pieChart" width="600" height="600"></canvas>
            <div class="center-circle"></div>
        </div>
        
        <div class="label label-legal">Legal</div>
        <div class="label label-technical">Technical</div>
        
        <div class="other-labels">
            <div>Business</div>
            <div>Functional</div>
            <div>Ethical</div>
            <div>Economical</div>
            <div>Organisational</div>
            <div>User Experience</div>
            <div>Communication</div>
            <div>Governance</div>
            <div>Collaboration</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('pieChart');
        const ctx = canvas.getContext('2d');
        const centerX = 300;
        const centerY = 300;
        const radius = 225;
        const innerRadius = 75;

        const data = [
            { label: 'Legal', value: 70, color: '#36A2EB' },
            { label: 'Technical', value: 27, color: '#FFCE56' },
            { label: 'Business', value: 0.3, color: '#FF6384' },
            { label: 'Functional', value: 0.3, color: '#4BC0C0' },
            { label: 'Ethical', value: 0.3, color: '#9966FF' },
            { label: 'Economical', value: 0.3, color: '#FF9F40' },
            { label: 'Organisational', value: 0.3, color: '#C9CBCF' },
            { label: 'User Experience', value: 0.3, color: '#4CAF50' },
            { label: 'Communication', value: 0.3, color: '#E91E63' },
            { label: 'Governance', value: 0.3, color: '#9C27B0' },
            { label: 'Samenwerking', value: 0.4, color: '#FF5722' }
        ];

        const total = data.reduce((sum, item) => sum + item.value, 0);
        
        let animationProgress = 0;
        let hoveredSegment = -1;
        let segments = [];

        function lightenColor(color, percent) {
            const num = parseInt(color.replace("#", ""), 16);
            const amt = Math.round(2.55 * percent);
            const R = (num >> 16) + amt;
            const G = (num >> 8 & 0x00FF) + amt;
            const B = (num & 0x0000FF) + amt;
            return "#" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
                (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
                (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
        }

        function getSegmentAtPoint(x, y) {
            const rect = canvas.getBoundingClientRect();
            const mouseX = x - rect.left - centerX;
            const mouseY = y - rect.top - centerY;
            const distance = Math.sqrt(mouseX * mouseX + mouseY * mouseY);
            
            if (distance < innerRadius || distance > radius) {
                return -1;
            }
            
            let angle = Math.atan2(mouseY, mouseX);
            angle = (angle + Math.PI * 2.5) % (Math.PI * 2);
            
            let currentAngle = 0;
            for (let i = 0; i < segments.length; i++) {
                const sliceAngle = segments[i].angle;
                if (angle >= currentAngle && angle <= currentAngle + sliceAngle) {
                    return i;
                }
                currentAngle += sliceAngle;
            }
            return -1;
        }

        canvas.addEventListener('mousemove', (e) => {
            const newHoveredSegment = getSegmentAtPoint(e.clientX, e.clientY);
            if (newHoveredSegment !== hoveredSegment) {
                hoveredSegment = newHoveredSegment;
                drawChart();
            }
        });

        canvas.addEventListener('mouseleave', () => {
            if (hoveredSegment !== -1) {
                hoveredSegment = -1;
                drawChart();
            }
        });

        function drawChart() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            let currentAngle = -Math.PI / 2;
            segments = [];

            data.forEach((item, index) => {
                const sliceAngle = (item.value / total) * 2 * Math.PI * animationProgress;
                const endAngle = currentAngle + sliceAngle;
                
                segments.push({
                    startAngle: currentAngle,
                    endAngle: endAngle,
                    angle: sliceAngle / animationProgress,
                    color: item.color,
                    label: item.label
                });

                const segmentRadius = hoveredSegment === index ? radius + 10 : radius;
                const segmentColor = hoveredSegment === index ? lightenColor(item.color, 20) : item.color;

                ctx.beginPath();
                ctx.arc(centerX, centerY, segmentRadius, currentAngle, endAngle);
                ctx.arc(centerX, centerY, innerRadius, endAngle, currentAngle, true);
                ctx.closePath();
                ctx.fillStyle = segmentColor;
                ctx.fill();
                
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.4)';
                ctx.lineWidth = 3;
                ctx.stroke();

                currentAngle = endAngle;
            });
        }

        function animateLoad() {
            animationProgress += 0.03;
            if (animationProgress >= 1) {
                animationProgress = 1;
            }
            
            drawChart();
            
            if (animationProgress < 1) {
                requestAnimationFrame(animateLoad);
            }
        }
        
        animateLoad();
        // Keyboard navigatie voor slideshow
document.addEventListener('keydown', function(e) {
    // Pijltjestoetsen voor slide navigatie
    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' || 
        e.key === 'ArrowUp' || e.key === 'ArrowDown') {
        e.preventDefault();
        window.parent.postMessage({
            type: 'slideshow-keypress',
            event: { key: e.key }
        }, '*');
    }
});
    </script>
</body>
</html>