<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verifier Pagina</title>
</head>
<body>
  <h2>Verifier-pagina met QR-code en gedeelde gegevens</h2>

  <!-- QR-code voor de wallet om te scannen -->
  <div>
    <p>Scan de onderstaande QR-code met je wallet:</p>
    <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://gijsvandenbeucken.nl/test/wallet/v.html&size=200x200" alt="QR Code">
  </div>

  <!-- Gedeelde gegevens worden hier getoond -->
  <div id="verifier-result"></div>

  <script>
    // Functie om berichten van de wallet te ontvangen
    window.addEventListener('message', function(event) {
      const { name, validUntil } = event.data;

      // Als er gegevens zijn gedeeld, deze weergeven in de pagina
      if (name && validUntil) {
        document.getElementById('verifier-result').innerHTML = `
          <h3>Ontvangen Kaartje:</h3>
          <p><strong>Naam:</strong> ${name}</p>
          <p><strong>Geldig tot:</strong> ${validUntil}</p>
        `;
      } else {
        document.getElementById('verifier-result').innerText = 'Nog geen gegevens ontvangen.';
      }
    }, false);
  </script>
</body>
</html>
